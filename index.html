<!DOCTYPE html>
<html lang="ar" dir="rtl" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <!-- Primary Meta Tags -->
    <title>Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</title>
    <meta name="title" content="Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±">
    <meta name="description" content="ØªØ³ÙˆÙ‚ Ø¨Ø°ÙƒØ§Ø¡ØŒ Ø¹ÙŠØ´ Ø¨Ø±Ø§Ø­Ø©. Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ. Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ ÙØ±ÙŠØ¯Ø© ÙˆØ¢Ù…Ù†Ø©.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io">
    <meta property="og:title" content="Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±">
    <meta property="og:description" content="ØªØ³ÙˆÙ‚ Ø¨Ø°ÙƒØ§Ø¡ØŒ Ø¹ÙŠØ´ Ø¨Ø±Ø§Ø­Ø©. Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ. Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ ÙØ±ÙŠØ¯Ø© ÙˆØ¢Ù…Ù†Ø©.">
    <meta property="og:image" content="https://i.ibb.co/9jnPYCb/IMG-20251101-WA0015.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="ar_SA">
    <meta property="og:site_name" content="Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourusername.github.io">
    <meta property="twitter:title" content="Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±">
    <meta property="twitter:description" content="ØªØ³ÙˆÙ‚ Ø¨Ø°ÙƒØ§Ø¡ØŒ Ø¹ÙŠØ´ Ø¨Ø±Ø§Ø­Ø©. Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ. Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ ÙØ±ÙŠØ¯Ø© ÙˆØ¢Ù…Ù†Ø©.">
    <meta property="twitter:image" content="https://i.ibb.co/9jnPYCb/IMG-20251101-WA0015.jpg">
    
    <!-- Additional Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ">
    <meta name="keywords" content="Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, ØªØ³ÙˆÙ‚, Ù…Ù†ØªØ¬Ø§Øª, Ø¹Ø±ÙˆØ¶, Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ, ØªØ³ÙˆÙ‚ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', 'Tajawal', Tahoma, Geneva, Verdana, sans-serif; 
            -webkit-tap-highlight-color: transparent;
        }
        
        body { 
            background-color: #0f172a; 
            color: #e2e8f0; 
            line-height: 1.6; 
            overflow-x: hidden;
            min-height: 100vh;
            perspective: 1000px;
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 15px; 
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© 3D */
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            color: white;
            overflow: hidden;
        }
        
        .scene-container {
            width: 300px;
            height: 300px;
            perspective: 1200px;
            margin-bottom: 40px;
        }
        
        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotateCube 20s infinite linear;
            transform: rotateX(-15deg) rotateY(15deg);
        }
        
        .cube-face {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 3px solid rgba(59, 130, 246, 0.5);
            background: rgba(15, 23, 42, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #60a5fa;
            backface-visibility: visible;
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.3) inset,
                        0 0 60px rgba(59, 130, 246, 0.2);
        }
        
        .cube-face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.8;
        }
        
        .front  { transform: translateZ(150px); }
        .back   { transform: rotateY(180deg) translateZ(150px); }
        .right  { transform: rotateY(90deg) translateZ(150px); }
        .left   { transform: rotateY(-90deg) translateZ(150px); }
        .top    { transform: rotateX(90deg) translateZ(150px); }
        .bottom { transform: rotateX(-90deg) translateZ(150px); }
        
        .front::after, .back::after, .right::after, .left::after {
            content: 'ğŸ›’ Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ';
            position: absolute;
            font-size: 2.2rem;
            color: #fff;
            text-shadow: 0 0 20px #3b82f6;
            animation: textGlow 2s ease-in-out infinite alternate;
        }
        
        .splash-name {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientMove 3s ease infinite;
        }
        
        .splash-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .loading-bar {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .loading-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
            border-radius: 10px;
            transition: width 0.3s ease;
            animation: loadingAnim 3s ease-in-out;
        }
        
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #3b82f6;
            border-radius: 50%;
            animation: floatParticle linear infinite;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
        #loginScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.98));
            backdrop-filter: blur(10px);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 99998;
            color: white;
        }
        
        .login-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px 30px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3),
                        0 0 80px rgba(59, 130, 246, 0.2);
            transform-style: preserve-3d;
            transform: translateZ(50px);
            animation: cardFloat 6s ease-in-out infinite;
        }
        
        .login-card h2 {
            margin-bottom: 25px;
            color: white;
            font-size: 1.8rem;
        }
        
        .login-card input, .login-card select {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            text-align: center;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .login-card input:focus, .login-card select:focus {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.3);
        }
        
        /* Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        #mainContent {
            display: none;
            animation: fadeInMain 1s ease;
        }
        
        header { 
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            flex-wrap: wrap;
        }
        
        .logo h1 { 
            font-size: 1.8rem; 
            background: linear-gradient(45deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .logo p { 
            opacity: 0.8; 
            font-size: 0.9rem; 
        }
        
        .user-profile { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            cursor: pointer; 
            position: relative; 
        }
        
        .profile-img { 
            width: 50px; 
            height: 50px; 
            border-radius: 50%; 
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            display: flex; 
            align-items: center; 
            justify-content: center; 
            overflow: hidden; 
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }
        
        .search-cart { 
            display: flex; 
            align-items: center; 
            gap: 20px; 
            flex-wrap: wrap;
        }
        
        .search-box { 
            position: relative; 
        }
        
        .search-box input { 
            padding: 12px 45px 12px 20px; 
            border: none; 
            border-radius: 30px; 
            width: 250px; 
            font-size: 16px; 
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .header-icons { 
            display: flex; 
            align-items: center; 
            gap: 20px; 
        }
        
        .cart-icon, .orders-icon { 
            position: relative; 
            font-size: 24px; 
            cursor: pointer; 
            transition: transform 0.3s;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª 3D */
        .product-card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            transform-style: preserve-3d;
        }
        
        .product-card:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(-5deg);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
                        0 0 50px rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .product-image {
            height: 220px;
            overflow: hidden;
            position: relative;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.1) rotate(1deg);
        }
        
        .product-info {
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        .product-price {
            color: #60a5fa;
            font-weight: 700;
            font-size: 22px;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(96, 165, 250, 0.3);
        }
        
        .add-to-cart {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .add-to-cart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .add-to-cart:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.4);
        }
        
        /* Ø§Ù„Ø³Ù„Ø© 3D */
        .cart-modal, .orders-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1001;
            justify-content: center;
            align-items: center;
        }
        
        .cart-content, .orders-content {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            width: 95%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            transform-style: preserve-3d;
            animation: modalAppear 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* ÙÙˆØªØ± Ø­Ø¯ÙŠØ« */
        footer { 
            background: rgba(15, 23, 42, 0.95);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 50px 0 20px; 
            margin-top: 50px;
            backdrop-filter: blur(10px);
        }
        
        .footer-content { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 40px; 
            margin-bottom: 40px; 
        }
        
        .social-link {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }
        
        .social-link:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.5);
        }
        
        /* Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† */
        @keyframes rotateCube {
            0% { transform: rotateX(-15deg) rotateY(0deg) rotateZ(0deg); }
            25% { transform: rotateX(20deg) rotateY(90deg) rotateZ(5deg); }
            50% { transform: rotateX(-10deg) rotateY(180deg) rotateZ(-5deg); }
            75% { transform: rotateX(15deg) rotateY(270deg) rotateZ(3deg); }
            100% { transform: rotateX(-15deg) rotateY(360deg) rotateZ(0deg); }
        }
        
        @keyframes textGlow {
            0% { text-shadow: 0 0 10px #3b82f6, 0 0 20px #3b82f6; }
            100% { text-shadow: 0 0 20px #8b5cf6, 0 0 40px #8b5cf6; }
        }
        
        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes loadingAnim {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        @keyframes floatParticle {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        @keyframes cardFloat {
            0%, 100% { transform: translateY(0) translateZ(50px); }
            50% { transform: translateY(-10px) translateZ(50px); }
        }
        
        @keyframes fadeInMain {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes modalAppear {
            0% { opacity: 0; transform: scale(0.5) rotateX(-30deg); }
            100% { opacity: 1; transform: scale(1) rotateX(0deg); }
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡Ø§ØªÙ */
        @media (max-width: 768px) {
            .scene-container {
                width: 200px;
                height: 200px;
            }
            
            .cube-face {
                width: 200px;
                height: 200px;
            }
            
            .front, .back, .right, .left {
                transform: translateZ(100px);
            }
            
            .splash-name {
                font-size: 2.5rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-box input {
                width: 100%;
                max-width: 300px;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 20px;
            }
            
            .product-card {
                margin-bottom: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .scene-container {
                width: 150px;
                height: 150px;
            }
            
            .cube-face {
                width: 150px;
                height: 150px;
                font-size: 1.5rem;
            }
            
            .front, .back, .right, .left {
                transform: translateZ(75px);
            }
            
            .splash-name {
                font-size: 2rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ */
        .product-card, .cube-face, .login-card {
            will-change: transform;
            backface-visibility: hidden;
            -webkit-font-smoothing: antialiased;
        }
        
        /* Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù„Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ */
        button, .btn, .add-to-cart, .cart-icon, .orders-icon {
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© 3D -->
    <div id="splashScreen">
        <div class="floating-particles" id="particles"></div>
        <div class="scene-container">
            <div class="cube">
                <div class="cube-face front"></div>
                <div class="cube-face back"></div>
                <div class="cube-face right"></div>
                <div class="cube-face left"></div>
                <div class="cube-face top"></div>
                <div class="cube-face bottom"></div>
            </div>
        </div>
        <div class="splash-name">Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ</div>
        <div class="splash-subtitle">Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙ…ÙŠØ² Ø¨ØªØ¬Ø±Ø¨Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>
    
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div id="loginScreen">
        <div class="login-card">
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <input type="text" id="userName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
            <input type="tel" id="userPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
            <input type="text" id="userAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required>
            <select id="userCountry" required>
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
                <option value="Ø§Ù„ÙŠÙ…Ù†">Ø§Ù„ÙŠÙ…Ù†</option>
                <option value="Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                <option value="Ù…ØµØ±">Ù…ØµØ±</option>
                <option value="Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                <option value="Ø§Ù„Ø£Ø±Ø¯Ù†">Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                <option value="Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                <option value="Ø§Ù„Ù…ØºØ±Ø¨">Ø§Ù„Ù…ØºØ±Ø¨</option>
                <option value="Ø§Ù„ÙƒÙˆÙŠØª">Ø§Ù„ÙƒÙˆÙŠØª</option>
                <option value="Ù‚Ø·Ø±">Ù‚Ø·Ø±</option>
                <option value="Ø¹Ù…Ø§Ù†">Ø¹Ù…Ø§Ù†</option>
                <option value="Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
            </select>
            <button class="btn" id="saveProfile" style="margin-top: 20px; width: 100%; padding: 15px; background: linear-gradient(45deg, #3b82f6, #8b5cf6); border: none; border-radius: 12px; color: white; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div id="mainContent">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1>Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ</h1>
                        <p>Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</p>
                    </div>
                    <div class="user-profile" id="userProfile">
                        <div class="profile-img" id="userProfileImg">
                            <span>ğŸ‘¤</span>
                        </div>
                        <span class="user-name" id="userDisplayName">Ù…Ø³ØªØ®Ø¯Ù…</span>
                    </div>
                    <div class="search-cart">
                        <div class="search-box">
                            <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
                            <button style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #3b82f6; cursor: pointer; font-size: 18px;">ğŸ”</button>
                        </div>
                        <div class="header-icons">
                            <div class="orders-icon" id="ordersIcon">
                                ğŸ“‹
                                <span class="orders-count">0</span>
                            </div>
                            <div class="cart-icon" id="cartIcon">
                                ğŸ›’
                                <span class="cart-count">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <nav>
            <div class="container">
                <ul class="nav-links" style="display: flex; list-style: none; padding: 15px 0; flex-wrap: wrap; justify-content: center; gap: 15px;">
                    <li><a href="#" class="nav-link" data-category="all" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="#" class="nav-link" data-category="all" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
                    <li><a href="#" class="nav-link" data-category="electronics" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</a></li>
                    <li><a href="#" class="nav-link" data-category="fashion" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ù…ÙˆØ¶Ø©</a></li>
                    <li><a href="#" class="nav-link" data-category="home" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ù…Ù†Ø²Ù„</a></li>
                    <li><a href="#" class="nav-link" data-category="sports" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ø±ÙŠØ§Ø¶Ø©</a></li>
                    <li><a href="#" class="nav-link" data-category="beauty" style="text-decoration: none; color: #e2e8f0; font-weight: 500; padding: 8px 15px; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease;">Ø¬Ù…Ø§Ù„</a></li>
                </ul>
            </div>
        </nav>
        
        <section class="hero" style="background: linear-gradient(135deg, rgba(59,130,246,0.2), rgba(139,92,246,0.2)); padding: 80px 20px; margin: 30px 0; border-radius: 20px; text-align: center;">
            <div class="container">
                <h2 style="font-size: 2.5rem; margin-bottom: 20px;">ØªØ³ÙˆÙ‚ Ø¨Ø°ÙƒØ§Ø¡ØŒ Ø¹ÙŠØ´ Ø¨Ø±Ø§Ø­Ø©</h2>
                <p style="font-size: 1.2rem; max-width: 700px; margin: 0 auto 30px; opacity: 0.9;">Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ. Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ ÙØ±ÙŠØ¯Ø© ÙˆØ¢Ù…Ù†Ø©.</p>
                <a href="#" class="btn" style="background: linear-gradient(45deg, #3b82f6, #8b5cf6); color: white; border: none; padding: 15px 35px; border-radius: 30px; cursor: pointer; font-size: 16px; font-weight: 600; text-decoration: none; display: inline-block; transition: all 0.3s ease;">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</a>
            </div>
        </section>
        
        <section class="products" style="margin: 50px 0;">
            <div class="container">
                <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 20px;">
                    <h2 style="font-size: 2rem;">Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
                    <div class="filter-options">
                        <select id="sortProducts" style="padding: 10px 20px; border-radius: 10px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); font-size: 16px;">
                            <option value="default">ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨</option>
                            <option value="price-low">Ø§Ù„Ø³Ø¹Ø±: Ù…Ù† Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ø£Ø¹Ù„Ù‰</option>
                            <option value="price-high">Ø§Ù„Ø³Ø¹Ø±: Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù„Ù„Ø£Ù‚Ù„</option>
                            <option value="name">Ø§Ù„Ø§Ø³Ù…</option>
                            <option value="featured">Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø£ÙˆÙ„Ø§Ù‹</option>
                        </select>
                    </div>
                </div>
                <div class="products-grid" id="productsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ -->
                </div>
            </div>
        </section>
        
        <!-- Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
        <div class="cart-modal" id="cartModal">
            <div class="cart-content">
                <div class="cart-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;">
                    <h2 style="color: white;">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>
                    <button class="close-cart" id="closeCart" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #fff;">âœ•</button>
                </div>
                <div class="cart-items" id="cartItems" style="margin-bottom: 20px;"></div>
                <div class="cart-total" style="text-align: center; font-size: 24px; font-weight: 700; margin: 30px 0; color: #60a5fa;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="cartTotal">0.00</span> Ø±.Ø³</div>
                <button class="checkout-btn" id="checkoutBtn" style="background: linear-gradient(45deg, #3b82f6, #8b5cf6); color: white; border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: 600; width: 100%; transition: all 0.3s ease;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
            </div>
        </div>
        
        <!-- ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ -->
        <div class="cart-modal" id="orderConfirmModal">
            <div class="cart-content">
                <div class="cart-header">
                    <h2>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h2>
                    <button class="close-cart" id="closeConfirm">âœ•</button>
                </div>
                <div class="order-info" style="margin: 20px 0;">
                    <div class="info-group" style="margin-bottom: 15px;">
                        <div class="info-label" style="font-weight: 600; margin-bottom: 5px; color: #a5b4fc;">Ø§Ù„Ø§Ø³Ù…:</div>
                        <div class="info-value" id="confirmUserName" style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);"></div>
                    </div>
                    <div class="info-group" style="margin-bottom: 15px;">
                        <div class="info-label" style="font-weight: 600; margin-bottom: 5px; color: #a5b4fc;">Ø§Ù„Ù‡Ø§ØªÙ:</div>
                        <div class="info-value" id="confirmUserPhone" style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);"></div>
                    </div>
                    <div class="info-group" style="margin-bottom: 15px;">
                        <div class="info-label" style="font-weight: 600; margin-bottom: 5px; color: #a5b4fc;">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</div>
                        <div class="info-value" id="confirmUserAddress" style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);"></div>
                    </div>
                    <div class="info-group" style="margin-bottom: 15px;">
                        <div class="info-label" style="font-weight: 600; margin-bottom: 5px; color: #a5b4fc;">Ø§Ù„Ø¨Ù„Ø¯:</div>
                        <div class="info-value" id="confirmUserCountry" style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);"></div>
                    </div>
                </div>
                <div class="cart-items" id="confirmCartItems" style="margin-bottom: 20px;"></div>
                <div class="cart-total" style="text-align: center; font-size: 24px; font-weight: 700; margin: 30px 0; color: #60a5fa;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="confirmCartTotal">0.00</span> Ø±.Ø³</div>
                <button class="checkout-btn" id="confirmOrderBtn" style="background: linear-gradient(45deg, #10b981, #3b82f6); color: white; border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: 600; width: 100%;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
            </div>
        </div>
        
        <!-- ØªØ£ÙƒÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ -->
        <div class="cart-modal" id="orderSuccessModal">
            <div class="cart-content" style="text-align: center;">
                <div style="font-size: 80px; color: #10b981; margin: 20px 0;">âœ“</div>
                <h2 style="color: #10b981; margin-bottom: 15px;">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                <p style="margin-bottom: 30px; color: #a5b4fc;">Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</p>
                <button class="checkout-btn" id="closeSuccessModal" style="background: linear-gradient(45deg, #10b981, #3b82f6); color: white; border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: 600; width: 100%;">Ù…ÙˆØ§ÙÙ‚</button>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª -->
        <div class="orders-modal" id="ordersModal">
            <div class="orders-content">
                <div class="orders-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;">
                    <h2 style="color: white;">Ø·Ù„Ø¨Ø§ØªÙŠ</h2>
                    <button class="close-orders" id="closeOrders" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #fff;">âœ•</button>
                </div>
                <div class="orders-items" id="ordersItems">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>
        
        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3 style="font-size: 1.3rem; margin-bottom: 20px; color: #60a5fa;">Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ</h3>
                        <p style="opacity: 0.8;">Ù†Ø³Ø¹Ù‰ Ù„ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø¹Ù…Ù„Ø§Ø¦Ù†Ø§ Ø§Ù„ÙƒØ±Ø§Ù… Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©.</p>
                    </div>
                    <div class="footer-section">
                        <h3 style="font-size: 1.3rem; margin-bottom: 20px; color: #60a5fa;">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
                        <ul class="footer-links" style="list-style: none;">
                            <li style="margin-bottom: 10px;"><a href="#" style="color: #cbd5e1; text-decoration: none; transition: color 0.3s ease;">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                            <li style="margin-bottom: 10px;"><a href="#" style="color: #cbd5e1; text-decoration: none; transition: color 0.3s ease;">Ù…Ù† Ù†Ø­Ù†</a></li>
                            <li style="margin-bottom: 10px;"><a href="#" style="color: #cbd5e1; text-decoration: none; transition: color 0.3s ease;">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3 style="font-size: 1.3rem; margin-bottom: 20px; color: #60a5fa;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
                        <ul class="footer-links" style="list-style: none;">
                            <li style="margin-bottom: 10px;">ğŸ“ 0123456789</li>
                            <li style="margin-bottom: 10px;">âœ‰ï¸ info@aminzawahi.com</li>
                            <li style="margin-bottom: 10px;">ğŸ“ Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ³ÙˆÙ‚ØŒ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</li>
                        </ul>
                    </div>
                </div>
                <div class="social-links" style="display: flex; justify-content: center; gap: 20px; margin-top: 40px;">
                    <a href="#" class="social-link">f</a>
                    <a href="https://wa.me/1234567890" class="social-link">ÙˆØ§ØªØ³</a>
                    <a href="#" class="social-link">ØªÙ€</a>
                </div>
                <div class="copyright" style="text-align: center; padding-top: 30px; margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); color: #94a3b8; font-size: 0.9rem;">
                    Â© 2023 Ù…ØªØ¬Ø± Ø£Ù…ÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø­ÙŠ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.
                </div>
            </div>
        </footer>
    </div>

    <script>
        // ØªÙ‡ÙŠØ¦Ø© Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyA0KMF-nZh5Y5DsHt9MWCfTLmyMDnWSAFc",
            authDomain: "temo2-2e66e.firebaseapp.com",
            projectId: "temo2-2e66e",
            storageBucket: "temo2-2e66e.firebasestorage.app",
            messagingSenderId: "723626918363",
            appId: "1:723626918363:web:9cb4a2c4aeb9297dbce7fe",
            measurementId: "G-4N04DMBMTP"
        };

        // ØªÙ‡ÙŠØ¦Ø© Firebase
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
        } catch (error) {
            console.error('Error initializing Firebase:', error);
        }
        
        const db = firebase.firestore();
        const storage = firebase.storage();
        
        let products = [];
        let cart = JSON.parse(localStorage.getItem('aminCart')) || [];
        let userProfile = JSON.parse(localStorage.getItem('aminUserProfile')) || null;
        let userId = localStorage.getItem('aminUserId') || null;

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªØ­Ø±ÙƒØ©
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = `rgba(${Math.floor(Math.random() * 100) + 155}, ${Math.floor(Math.random() * 100) + 155}, 255, 0.6)`;
                particle.style.animationDuration = Math.random() * 10 + 10 + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙØ±ÙŠØ¯ Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…
        function generateUserId() {
            return Math.floor(1000000000 + Math.random() * 9000000000).toString();
        }

        // Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            setTimeout(() => {
                document.getElementById('splashScreen').style.opacity = '0';
                document.getElementById('splashScreen').style.transition = 'opacity 1s ease';
                
                setTimeout(() => {
                    document.getElementById('splashScreen').style.display = 'none';
                    
                    if (!userProfile || !userId) {
                        document.getElementById('loginScreen').style.display = 'flex';
                    } else {
                        document.getElementById('mainContent').style.display = 'block';
                        updateUserDisplay();
                        loadProducts();
                    }
                }, 1000);
            }, 4000);
        });

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        document.getElementById('saveProfile').addEventListener('click', function() {
            const userName = document.getElementById('userName').value;
            const userCountry = document.getElementById('userCountry').value;
            const userPhone = document.getElementById('userPhone').value;
            const userAddress = document.getElementById('userAddress').value;
            
            if (!userName || !userCountry || !userPhone || !userAddress) {
                showToast('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
                return;
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯
            if (!userId) {
                userId = generateUserId();
                localStorage.setItem('aminUserId', userId);
            }
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            userProfile = {
                name: userName,
                country: userCountry,
                phone: userPhone,
                address: userAddress,
                userId: userId,
                registeredAt: new Date().toISOString()
            };
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            localStorage.setItem('aminUserProfile', JSON.stringify(userProfile));
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ¬Ø±
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            updateUserDisplay();
            loadProducts();
            showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        });

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUserDisplay() {
            if (userProfile) {
                document.getElementById('userDisplayName').textContent = userProfile.name;
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Firebase
        async function loadProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '<div style="text-align: center; padding: 40px;"><div class="spinner" style="border: 4px solid rgba(255,255,255,0.1); border-top-color: #3b82f6; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div><p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...</p></div>';
            
            try {
                // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© ÙÙ‚Ø·
                const querySnapshot = await db.collection('products')
                    .where('approved', '==', true)
                    .orderBy('createdAt', 'desc')
                    .get();
                    
                products = [];
                
                querySnapshot.forEach(doc => {
                    const product = doc.data();
                    product.id = doc.id;
                    products.push(product);
                });
                
                console.log(`ØªÙ… ØªØ­Ù…ÙŠÙ„ ${products.length} Ù…Ù†ØªØ¬`);
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                displayProducts(products);
                
            } catch (error) {
                console.error('Error loading products:', error);
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©
                try {
                    const allProductsSnapshot = await db.collection('products').get();
                    products = [];
                    
                    allProductsSnapshot.forEach(doc => {
                        const product = doc.data();
                        product.id = doc.id;
                        if (product.approved !== false) {
                            products.push(product);
                        }
                    });
                    
                    console.log(`ØªÙ… ØªØ­Ù…ÙŠÙ„ ${products.length} Ù…Ù†ØªØ¬ (Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©)`);
                    displayProducts(products);
                } catch (fallbackError) {
                    console.error('Fallback error:', fallbackError);
                    productsGrid.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #94a3b8;">
                            <p style="margin-bottom: 20px;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
                            <button class="btn" onclick="loadProducts()" style="background: linear-gradient(45deg, #3b82f6, #8b5cf6); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
                        </div>
                    `;
                }
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function displayProducts(productsToShow = products) {
            const productsGrid = document.getElementById('productsGrid');
            
            if (productsToShow.length === 0) {
                productsGrid.innerHTML = '<p style="text-align: center; padding: 40px; color: #94a3b8;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
                return;
            }
            
            productsGrid.innerHTML = '';
            
            productsToShow.forEach(product => {
                const imageSource = product.imageUrl || 'https://via.placeholder.com/300x200/1e293b/94a3b8?text=ØµÙˆØ±Ø©+Ø§Ù„Ù…Ù†ØªØ¬';
                const stock = product.stock || 0;
                const isOutOfStock = stock <= 0;
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${imageSource}" alt="${product.name}" 
                             onerror="this.src='https://via.placeholder.com/300x200/1e293b/94a3b8?text=ØµÙˆØ±Ø©+Ø§Ù„Ù…Ù†ØªØ¬'">
                        ${stock > 0 ? `<div class="stock-badge" style="position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 5px; font-size: 12px;">Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${stock}</div>` : 
                          '<div class="stock-badge" style="position: absolute; top: 10px; left: 10px; background: #ef4444; color: white; padding: 5px 10px; border-radius: 5px; font-size: 12px;">Ù†ÙØ° Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</div>'}
                        ${product.featured ? '<div class="featured-badge" style="position: absolute; top: 10px; right: 10px; background: #f59e0b; color: #1e293b; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">ğŸŸ¡ Ù…Ù…ÙŠØ²</div>' : ''}
                    </div>
                    <div class="product-info">
                        <div class="product-name" style="font-weight: 600; font-size: 18px; margin-bottom: 10px; color: #f1f5f9;">${product.name}</div>
                        <div class="product-description" style="color: #94a3b8; margin-bottom: 15px; font-size: 14px; line-height: 1.4;">${product.description.substring(0, 80)}${product.description.length > 80 ? '...' : ''}</div>
                        <div class="product-price">${product.price.toFixed(2)} Ø±.Ø³</div>
                        <button class="add-to-cart" data-id="${product.id}" ${isOutOfStock ? 'disabled' : ''}>
                            ${isOutOfStock ? 'Ù†ÙØ° Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†' : 'Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©'}
                        </button>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.getAttribute('data-id');
                    if (!this.disabled) {
                        addToCart(productId);
                    }
                });
            });
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            
            if (product) {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
                const stock = product.stock || 0;
                if (stock <= 0) {
                    showToast('Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù†ÙØ° Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', 'error');
                    return;
                }
                
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    if (existingItem.quantity >= stock) {
                        showToast(`Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† ${stock} Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬`, 'error');
                        return;
                    }
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        imageUrl: product.imageUrl,
                        quantity: 1,
                        stock: stock
                    });
                }
                
                localStorage.setItem('aminCart', JSON.stringify(cart));
                updateCartDisplay();
                showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© "${product.name}" Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚`, 'success');
            }
        }
        
        // Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± Toast
        function showToast(message, type = 'info') {
            // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø³Ø§Ø¨Ù‚Ø©
            const existingToast = document.querySelector('.toast-notification');
            if (existingToast) {
                existingToast.remove();
            }
            
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                z-index: 9999;
                animation: fadeInOut 3s ease;
                font-weight: 500;
                max-width: 300px;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.style.animation = 'fadeOut 0.5s ease';
                    setTimeout(() => toast.remove(), 500);
                }
            }, 2500);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù„Ø©
        function updateCartDisplay() {
            const cartCount = document.querySelector('.cart-count');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 20px;">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©</p>';
                cartTotal.textContent = '0.00';
                checkoutBtn.disabled = true;
                checkoutBtn.style.opacity = '0.5';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const maxQuantity = item.stock || 99;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.style.cssText = 'display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1);';
                cartItem.innerHTML = `
                    <div class="cart-item-image" style="width: 70px; height: 70px; border-radius: 8px; overflow: hidden; margin-left: 15px;">
                        <img src="${item.imageUrl}" alt="${item.name}" 
                             style="width: 100%; height: 100%; object-fit: cover;"
                             onerror="this.src='https://via.placeholder.com/70x70/1e293b/94a3b8?text=ØµÙˆØ±Ø©'">
                    </div>
                    <div class="cart-item-details" style="flex: 1;">
                        <div class="cart-item-name" style="font-weight: 600; margin-bottom: 5px; color: #f1f5f9;">${item.name}</div>
                        <div class="cart-item-price" style="color: #60a5fa; font-weight: 700;">${item.price.toFixed(2)} Ø±.Ø³</div>
                        <div class="cart-item-quantity" style="display: flex; align-items: center; margin-top: 10px; gap: 10px;">
                            <button class="quantity-btn decrease" data-id="${item.id}" ${item.quantity <= 1 ? 'disabled' : ''} style="background: rgba(255,255,255,0.1); border: none; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 18px;">-</button>
                            <span class="quantity" style="font-weight: 600;">${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${item.id}" ${item.quantity >= maxQuantity ? 'disabled' : ''} style="background: rgba(255,255,255,0.1); border: none; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 18px;">+</button>
                        </div>
                    </div>
                    <button class="remove-item" data-id="${item.id}" style="background: none; border: none; color: #ef4444; cursor: pointer; font-size: 20px; padding: 5px;">âœ•</button>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = total.toFixed(2);
            checkoutBtn.disabled = false;
            checkoutBtn.style.opacity = '1';
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.increase').forEach(button => {
                button.addEventListener('click', function() {
                    if (!this.disabled) {
                        const productId = this.getAttribute('data-id');
                        updateQuantity(productId, 1);
                    }
                });
            });
            
            document.querySelectorAll('.decrease').forEach(button => {
                button.addEventListener('click', function() {
                    if (!this.disabled) {
                        const productId = this.getAttribute('data-id');
                        updateQuantity(productId, -1);
                    }
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.getAttribute('data-id');
                    removeFromCart(productId);
                });
            });
        }

        // Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡
        document.getElementById('checkoutBtn').addEventListener('click', function() {
            if (cart.length === 0) {
                showToast('Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©', 'error');
                return;
            }
            
            if (!userProfile) {
                showToast('ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }
            
            // ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
            document.getElementById('confirmUserName').textContent = userProfile.name;
            document.getElementById('confirmUserPhone').textContent = userProfile.phone;
            document.getElementById('confirmUserAddress').textContent = userProfile.address;
            document.getElementById('confirmUserCountry').textContent = userProfile.country;
            document.getElementById('confirmCartTotal').textContent = document.getElementById('cartTotal').textContent;
            
            // ØªØ¹Ø¨Ø¦Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ù„Ø© ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
            const confirmCartItems = document.getElementById('confirmCartItems');
            confirmCartItems.innerHTML = document.getElementById('cartItems').innerHTML;
            
            document.getElementById('cartModal').style.display = 'none';
            document.getElementById('orderConfirmModal').style.display = 'flex';
        });

        // ØªØ£ÙƒÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
        document.getElementById('confirmOrderBtn').addEventListener('click', async function() {
            const confirmBtn = document.getElementById('confirmOrderBtn');
            confirmBtn.disabled = true;
            confirmBtn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...';
            
            try {
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨
                const orderData = {
                    items: cart,
                    total: total,
                    userId: userId,
                    userName: userProfile.name,
                    userCountry: userProfile.country,
                    userPhone: userProfile.phone,
                    userAddress: userProfile.address,
                    status: 'pending',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const orderRef = await db.collection('orders').add(orderData);
                
                // ØªØ­Ø¯ÙŠØ« Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                for (const item of cart) {
                    const productDoc = await db.collection('products').doc(item.id).get();
                    if (productDoc.exists) {
                        const product = productDoc.data();
                        const newStock = (product.stock || 0) - item.quantity;
                        
                        await db.collection('products').doc(item.id).update({
                            stock: Math.max(0, newStock),
                            updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                    }
                }
                
                // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
                await db.collection('notifications').add({
                    title: 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯',
                    message: `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${userProfile.name} Ø¨Ù‚ÙŠÙ…Ø© ${total.toFixed(2)} Ø±.Ø³`,
                    type: 'success',
                    read: false,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                // ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡
                cart = [];
                localStorage.setItem('aminCart', JSON.stringify(cart));
                updateCartDisplay();
                
                // Ø¥Ø®ÙØ§Ø¡ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                document.getElementById('orderConfirmModal').style.display = 'none';
                document.getElementById('orderSuccessModal').style.display = 'flex';
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
                loadProducts();
                
            } catch (error) {
                console.error('Error creating order:', error);
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
            } finally {
                confirmBtn.disabled = false;
                confirmBtn.textContent = 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨';
            }
        });

        // Ø¥ØºÙ„Ø§Ù‚ Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
        document.getElementById('closeSuccessModal').addEventListener('click', function() {
            document.getElementById('orderSuccessModal').style.display = 'none';
        });

        // ØªØ­Ù…ÙŠÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª
        async function loadUserOrders() {
            if (!userId) {
                document.getElementById('ordersItems').innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 20px;">ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>';
                return;
            }
            
            try {
                const querySnapshot = await db.collection('orders').where('userId', '==', userId).orderBy('createdAt', 'desc').get();
                const ordersItems = document.getElementById('ordersItems');
                const ordersCount = document.querySelector('.orders-count');
                
                ordersItems.innerHTML = '';
                
                let orderCount = 0;
                
                querySnapshot.forEach(doc => {
                    const order = doc.data();
                    order.id = doc.id;
                    orderCount++;
                    
                    const statusText = {
                        'pending': 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                        'processing': 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ù‡ÙŠØ²',
                        'completed': 'Ù…ÙƒØªÙ…Ù„',
                        'rejected': 'Ù…Ù„ØºÙŠ'
                    }[order.status] || order.status;
                    
                    const statusColor = {
                        'pending': '#f59e0b',
                        'processing': '#3b82f6',
                        'completed': '#10b981',
                        'rejected': '#ef4444'
                    }[order.status] || '#94a3b8';
                    
                    let itemsText = '';
                    if (order.items && order.items.length > 0) {
                        order.items.forEach((item, index) => {
                            itemsText += `${index + 1}. ${item.name} (${item.quantity})<br>`;
                        });
                    }
                    
                    const orderItem = document.createElement('div');
                    orderItem.className = 'order-item';
                    orderItem.style.cssText = 'padding: 20px; background: rgba(255,255,255,0.05); border-radius: 10px; margin-bottom: 15px;';
                    orderItem.innerHTML = `
                        <div class="order-item-details">
                            <div class="order-item-name" style="font-weight: 600; font-size: 16px; color: #f1f5f9;">Ø·Ù„Ø¨ #${order.id.substring(0, 8)}</div>
                            <div class="order-item-price" style="color: #60a5fa; font-weight: 700; margin: 5px 0;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${order.total.toFixed(2)} Ø±.Ø³</div>
                            <div class="order-status" style="color: ${statusColor}; margin: 5px 0; font-weight: 600;">
                                Ø§Ù„Ø­Ø§Ù„Ø©: ${statusText}
                            </div>
                            <div class="order-date" style="color: #94a3b8; font-size: 14px;">${order.createdAt ? new Date(order.createdAt.toDate()).toLocaleDateString('ar-EG') : 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</div>
                            <div class="order-items" style="margin-top: 10px; font-size: 14px; color: #cbd5e1;">
                                ${itemsText}
                            </div>
                        </div>
                    `;
                    
                    ordersItems.appendChild(orderItem);
                });
                
                ordersCount.textContent = orderCount;
                
                if (querySnapshot.empty) {
                    ordersItems.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>';
                }
                
            } catch (error) {
                console.error('Error loading orders:', error);
                ordersItems.innerHTML = '<p style="text-align: center; color: #ef4444; padding: 20px;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>';
            }
        }
        
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            
            if (item) {
                item.quantity += change;
                
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    if (item.quantity > (item.stock || 99)) {
                        item.quantity = item.stock || 99;
                        showToast(`Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† ${item.stock} Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬`, 'error');
                    }
                    
                    localStorage.setItem('aminCart', JSON.stringify(cart));
                    updateCartDisplay();
                }
            }
        }
        
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('aminCart', JSON.stringify(cart));
            updateCartDisplay();
            showToast('ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©', 'info');
        }
        
        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        document.getElementById('searchInput').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                displayProducts(products);
            } else {
                const filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.description.toLowerCase().includes(searchTerm)
                );
                displayProducts(filteredProducts);
            }
        });
        
        // ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
        document.querySelectorAll('.category-item, .nav-link').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const category = this.getAttribute('data-category');
                
                if (category === 'all') {
                    displayProducts(products);
                } else {
                    const filteredProducts = products.filter(product => product.category === category);
                    displayProducts(filteredProducts);
                }
            });
        });
        
        // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        document.getElementById('sortProducts').addEventListener('change', function() {
            const sortBy = this.value;
            let sortedProducts = [...products];
            
            switch(sortBy) {
                case 'price-low': 
                    sortedProducts.sort((a, b) => a.price - b.price); 
                    break;
                case 'price-high': 
                    sortedProducts.sort((a, b) => b.price - a.price); 
                    break;
                case 'name': 
                    sortedProducts.sort((a, b) => a.name.localeCompare(b.name)); 
                    break;
                case 'featured':
                    sortedProducts.sort((a, b) => {
                        if (a.featured && !b.featured) return -1;
                        if (!a.featured && b.featured) return 1;
                        return 0;
                    });
                    break;
                default: 
                    sortedProducts.sort((a, b) => (b.createdAt?.toDate() || 0) - (a.createdAt?.toDate() || 0)); 
                    break;
            }
            
            displayProducts(sortedProducts);
        });
        
        // Ø£Ø­Ø¯Ø§Ø« ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        document.getElementById('cartIcon').addEventListener('click', function() {
            updateCartDisplay();
            document.getElementById('cartModal').style.display = 'flex';
        });
        
        document.getElementById('ordersIcon').addEventListener('click', function() {
            loadUserOrders();
            document.getElementById('ordersModal').style.display = 'flex';
        });
        
        document.getElementById('closeCart').addEventListener('click', function() {
            document.getElementById('cartModal').style.display = 'none';
        });
        
        document.getElementById('closeOrders').addEventListener('click', function() {
            document.getElementById('ordersModal').style.display = 'none';
        });
        
        document.getElementById('closeConfirm').addEventListener('click', function() {
            document.getElementById('orderConfirmModal').style.display = 'none';
        });
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        window.addEventListener('click', function(event) {
            const modals = ['cartModal', 'ordersModal', 'orderConfirmModal', 'orderSuccessModal'];
            
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });
        
        // ØªØ­Ø¯ÙŠØ« ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
        db.collection('products').onSnapshot(() => {
            loadProducts();
        });
        
        // Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
        window.onload = function() {
            updateCartDisplay();
        };
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(-20px); }
                15% { opacity: 1; transform: translateY(0); }
                85% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-20px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-20px); }
            }
            @keyframes spin {
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 
